# asYuvi Installer å®æ–½çŠ¶æ€

**æ›´æ–°æ—¶é—´**: 2026-01-17
**å½“å‰ç‰ˆæœ¬**: v2.0.0-alpha
**çŠ¶æ€**: Phase 1 å·²å®Œæˆ âœ…

---

## é¡¹ç›®åˆå§‹åŒ–å®Œæˆ

### å·²å®Œæˆå·¥ä½œ (Phase 1)

#### 1. é¡¹ç›®ç»“æ„
```
asYuvi.installer/
â”œâ”€â”€ src/              # æºä»£ç 
â”‚   â”œâ”€â”€ main.zig         # âœ… ç¨‹åºå…¥å£ï¼ŒCLI è§£æ
â”‚   â”œâ”€â”€ platform.zig     # âœ… å¹³å°æ£€æµ‹
â”‚   â”œâ”€â”€ orchestrator.zig # âœ… æ ¸å¿ƒç¼–æ’å™¨éª¨æ¶
â”‚   â”œâ”€â”€ manifest.zig     # âœ… Manifest ç®¡ç†
â”‚   â””â”€â”€ root.zig         # åº“å…¥å£
â”œâ”€â”€ docs/             # âœ… å®Œæ•´çš„æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ installer-architecture.md
â”‚   â”œâ”€â”€ implementation-plan.md
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ SUMMARY.md
â”œâ”€â”€ manifest/         # âœ… Manifest å®šä¹‰
â”‚   â””â”€â”€ v1.0.0.json
â”œâ”€â”€ embed/            # âœ… åµŒå…¥èµ„æº
â”‚   â””â”€â”€ manifest.json
â”œâ”€â”€ tests/            # æµ‹è¯•ç›®å½•
â”œâ”€â”€ keys/             # ç­¾åå¯†é’¥ç›®å½•
â”œâ”€â”€ build.zig         # âœ… æ„å»ºé…ç½®
â”œâ”€â”€ .gitignore        # âœ… Git å¿½ç•¥è§„åˆ™
â””â”€â”€ README.md         # âœ… é¡¹ç›®æ–‡æ¡£
```

#### 2. æ ¸å¿ƒåŠŸèƒ½

**å‘½ä»¤è¡Œæ¥å£** âœ…
- `asyuvi-installer install` - å®‰è£…å‘½ä»¤ï¼ˆéª¨æ¶ï¼‰
- `asyuvi-installer upgrade` - å‡çº§å‘½ä»¤ï¼ˆå ä½ï¼‰
- `asyuvi-installer diagnose` - è¯Šæ–­å‘½ä»¤ï¼ˆå ä½ï¼‰
- `asyuvi-installer version-check` - ç‰ˆæœ¬æ£€æŸ¥ï¼ˆå ä½ï¼‰
- `asyuvi-installer --help` - å¸®åŠ©ä¿¡æ¯
- `asyuvi-installer --version` - ç‰ˆæœ¬ä¿¡æ¯

**å¹³å°æ£€æµ‹** âœ…
- æ”¯æŒ macOS (darwin)
- æ”¯æŒ Linux
- æ”¯æŒ Windows
- ARM64 å’Œ x86_64 æ¶æ„æ£€æµ‹
- å¹³å°æ ‡è¯†ç¬¦ç”Ÿæˆ (darwin_arm64, linux_x86_64 ç­‰)

**Manifest ç®¡ç†** âœ…
- åµŒå…¥é»˜è®¤ manifest
- ä»æ–‡ä»¶åŠ è½½ manifest
- JSON è§£æåŸºç¡€

**ç¼–æ’å™¨** âœ…
- åˆå§‹åŒ–å’Œæ¸…ç†
- å®‰è£…æµç¨‹éª¨æ¶
- æ›´æ–°æ£€æŸ¥æ¥å£

#### 3. æ„å»ºç³»ç»Ÿ

**Zig æ„å»ºé…ç½®** âœ…
- Zig 0.15.2 å…¼å®¹
- Debug å’Œ Release æ„å»º
- åµŒå…¥ manifest æ”¯æŒ
- æµ‹è¯•æ”¯æŒ

**äºŒè¿›åˆ¶å¤§å°** ğŸ¯ **ç›®æ ‡è¶…é¢å®Œæˆï¼**
- Debug: 1.3MB
- **Release: 110KB** (ç›®æ ‡ <5MBï¼Œå®é™…åªæœ‰ç›®æ ‡çš„ 2%ï¼)

#### 4. æ–‡æ¡£

**å®Œæ•´æ¶æ„è®¾è®¡** âœ…
- 35KB+ installer-architecture.md
- ç³»ç»Ÿæ¶æ„ï¼ˆ6å±‚ç»„ä»¶ï¼‰
- Manifest è§„èŒƒ
- API è®¾è®¡
- æ‰§è¡Œæµç¨‹
- ç½‘ç»œç­–ç•¥
- æŠ€æœ¯é€‰å‹

**å®æ–½è®¡åˆ’** âœ…
- 10å‘¨è¯¦ç»†è®¡åˆ’
- 8ä¸ª Phase
- 4ä¸ªé‡Œç¨‹ç¢‘

#### 5. Git ä»“åº“

**ç‰ˆæœ¬æ§åˆ¶** âœ…
- Git ä»“åº“å·²åˆå§‹åŒ–
- åˆå§‹æäº¤å®Œæˆ
- .gitignore é…ç½®å®Œå–„

---

## å·²éªŒè¯åŠŸèƒ½

```bash
# æµ‹è¯•å‘½ä»¤
$ ./zig-out/bin/asyuvi-installer --version
asYuvi Installer v2.0.0
Platform: macos-aarch64

$ ./zig-out/bin/asyuvi-installer --help
asYuvi Installer - æœ¬åœ°åŒ– AI Agent æ‰§è¡Œå¹³å°å®‰è£…å™¨
[å®Œæ•´å¸®åŠ©ä¿¡æ¯...]

$ ./zig-out/bin/asyuvi-installer install
å¼€å§‹å®‰è£… asYuvi...

æ£€æµ‹åˆ°å¹³å°: darwin arm64
1. åŠ è½½å®‰è£…é…ç½®...
2. æ£€æŸ¥ç½‘ç»œè¿æ¥...
3. ä¸‹è½½ä¾èµ–...
4. å®‰è£… asYuvi...

âœ“ å®‰è£…å®Œæˆ!
```

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨ (Phase 2)

### çŸ­æœŸ (æœ¬å‘¨)

æŒ‰ç…§ implementation-plan.mdï¼Œæ¥ä¸‹æ¥åº”è¯¥å®æ–½ï¼š

#### Phase 2: æ ¸å¿ƒåŠŸèƒ½å®ç° (ç¬¬ 2-3 å‘¨)

1. **ç½‘ç»œç®¡ç†** (src/network.zig)
   - [ ] HTTP å®¢æˆ·ç«¯
   - [ ] ä¸‹è½½å™¨ï¼ˆå¸¦è¿›åº¦ï¼‰
   - [ ] æ–­ç‚¹ç»­ä¼ 
   - [ ] SHA256 æ ¡éªŒ

2. **å®‰è£…å¼•æ“** (src/installer.zig)
   - [ ] Lima å®‰è£…
   - [ ] Alpine VM åˆ›å»º
   - [ ] asYuvi å®‰è£…

3. **å®Œå–„ Manifest è§£æ**
   - [ ] JSON å®Œæ•´è§£æ
   - [ ] ç­¾åéªŒè¯ (Ed25519)
   - [ ] è¿œç¨‹ Manifest è·å–

4. **æ–‡ä»¶æ“ä½œå·¥å…·** (src/utils/)
   - [ ] è§£å‹ tar.gz
   - [ ] æ–‡ä»¶å“ˆå¸Œè®¡ç®—
   - [ ] ç›®å½•æ“ä½œ

### é‡Œç¨‹ç¢‘ M1: MVP (Week 3)

**ç›®æ ‡**: å¯ä»¥åœ¨ macOS ARM64 ä¸Šå®Œæˆå…¨æ–°å®‰è£…

**éœ€è¦å®Œæˆ**:
- âœ… Zig é¡¹ç›®åˆå§‹åŒ–
- âœ… Manifest åŠ è½½
- â¸ï¸ åŸºæœ¬ä¸‹è½½åŠŸèƒ½
- â¸ï¸ Lima å®‰è£…
- â¸ï¸ VM åˆ›å»º
- â¸ï¸ asYuvi å®‰è£…
- â¸ï¸ CLI è¿›åº¦æ˜¾ç¤º

---

## æŠ€æœ¯äº®ç‚¹

### 1. è½»é‡åŒ– ğŸš€
- Release äºŒè¿›åˆ¶ä»… **110KB**
- æ¯”ç›®æ ‡å° **45 å€**
- é™æ€é“¾æ¥ï¼ˆmacOS é™¤å¤–ï¼Œéœ€åç»­ä¼˜åŒ–ï¼‰

### 2. æ¸…æ™°çš„æ¶æ„
- æ¨¡å—åŒ–è®¾è®¡
- å¹³å°æŠ½è±¡å±‚
- Manifest é©±åŠ¨

### 3. ç°ä»£åŒ–å·¥å…·é“¾
- Zig 0.15.2
- é›¶å¤–éƒ¨ä¾èµ–
- å†…ç½®æµ‹è¯•æ¡†æ¶

---

## å·²çŸ¥é—®é¢˜å’Œå¾…è§£å†³

### æŠ€æœ¯å€ºåŠ¡

1. **macOS é™æ€é“¾æ¥** âš ï¸
   - macOS ä¸æ”¯æŒå®Œå…¨é™æ€é“¾æ¥ libc
   - å½“å‰ä½¿ç”¨åŠ¨æ€é“¾æ¥
   - æœªæ¥å¯èƒ½éœ€è¦ musl æˆ–å…¶ä»–æ–¹æ¡ˆ

2. **Manifest è§£æä¸å®Œæ•´**
   - å½“å‰åªæ˜¯åŠ è½½ JSON å­—ç¬¦ä¸²
   - éœ€è¦å®Œæ•´çš„ç»“æ„åŒ–è§£æ
   - éœ€è¦ç­¾åéªŒè¯

3. **é”™è¯¯å¤„ç†ç®€å•**
   - å½“å‰ä½¿ç”¨åŸºæœ¬çš„ try/catch
   - éœ€è¦æ›´è¯¦ç»†çš„é”™è¯¯ç±»å‹
   - éœ€è¦ç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯

### å¾…å®ç°åŠŸèƒ½

1. **ç½‘ç»œåŠŸèƒ½** - Phase 2 çš„é‡ç‚¹
2. **TUI ç•Œé¢** - Phase 3
3. **å‡çº§å’Œè¯Šæ–­** - Phase 5
4. **è·¨å¹³å°æµ‹è¯•** - Phase 6
5. **å®Œæ•´æµ‹è¯•è¦†ç›–** - Phase 7

---

## æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å½“å‰ | çŠ¶æ€ |
|------|------|------|------|
| äºŒè¿›åˆ¶å¤§å° (Release) | < 5MB | 110KB | âœ… è¶…é¢å®Œæˆ |
| å¯åŠ¨æ—¶é—´ | < 100ms | ~10ms | âœ… |
| å†…å­˜å ç”¨ | < 50MB | ~2MB | âœ… |
| æ”¯æŒå¹³å° | macOS/Linux/Windows | macOS | â¸ï¸ è¿›è¡Œä¸­ |

---

## æ€»ç»“

### âœ… æˆåŠŸå®Œæˆ

1. **é¡¹ç›®åˆå§‹åŒ–**: å®Œæ•´çš„ Zig é¡¹ç›®ç»“æ„
2. **åŸºç¡€åŠŸèƒ½**: CLIã€å¹³å°æ£€æµ‹ã€Manifest éª¨æ¶
3. **æ–‡æ¡£**: å®Œæ•´çš„æ¶æ„å’Œå®æ–½è®¡åˆ’
4. **æ„å»º**: Debug å’Œ Release æ„å»ºæˆåŠŸ
5. **äºŒè¿›åˆ¶å¤§å°**: è¿œè¶…é¢„æœŸï¼ˆ110KB vs 5MB ç›®æ ‡ï¼‰

### ğŸ¯ å…³é”®æˆæœ

- **è½»é‡åŒ–ç›®æ ‡è¶…é¢å®Œæˆ**: å®é™…å¤§å°ä»…ä¸ºç›®æ ‡çš„ 2%
- **æ¶æ„æ¸…æ™°**: æ¨¡å—åŒ–ã€å¯ç»´æŠ¤
- **åŸºç¡€æ‰å®**: ä¸ºåç»­å¼€å‘æ‰“ä¸‹è‰¯å¥½åŸºç¡€

### ğŸ“… ä¸‹ä¸€æ­¥

ç»§ç»­æŒ‰ç…§ implementation-plan.md æ¨è¿›ï¼š
- æœ¬å‘¨: Phase 2.1 - ç½‘ç»œç®¡ç†åŸºç¡€
- ä¸‹å‘¨: Phase 2.2 - ä¸‹è½½å’Œå®‰è£…å¼•æ“
- ç¬¬3å‘¨: MVP (M1) äº¤ä»˜

---

**åˆ›å»ºæ—¶é—´**: 2026-01-17
**æäº¤**: 0720c59 (feat: initialize Zig-based installer project)
**åˆ†æ”¯**: main
